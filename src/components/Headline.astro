---
import profileImage from '../assets/profile.jpg';
---

<!-- Hero Section with Headshot -->
<div class="flex items-start justify-between mt-16 mb-8 min-h-[500px]">
    <!-- Left Content -->
    <div class="flex-1 pr-8">
        <h1 id="headline" class="text-4xl md:text-5xl lg:text-6xl font-bold text-white leading-tight min-h-[1.2em] mb-8">
            <!-- Content will be populated by JavaScript -->
        </h1>
        
        <!-- <p class="text-[#ABB2BF] text-lg mb-8 max-w-md">
            He crafts responsive websites where technologies meet creativity
        </p> -->
        
        <!-- <button class="border-2 border-[#C778DD] text-[#C778DD] px-6 py-3 font-medium hover:bg-[#C778DD] hover:text-white transition-colors">
            Contact me!!
        </button> -->
    </div>
    
    <!-- Right Content - Profile Image -->
    <div class="flex flex-col items-center">
        <!-- Framed Profile Image -->
        <div class="border-2 border-[#ABB2BF] p-2 rounded-lg mb-8">
            <img 
                src={profileImage.src} 
                alt="Mohammed Misran" 
                class="w-80 h-96 object-cover rounded-md"
            />
        </div>
        
        <!-- Status Bar -->
        <div class="inline-flex items-center border border-[#ABB2BF] px-4 py-2">
            <div class="w-4 h-4 bg-[#C778DD] mr-3"></div>
            <span class="text-[#ABB2BF]">Currently working on</span>
            <span class="text-white ml-1 font-semibold">&nbsp;Portfolio</span>
        </div>
    </div>
</div>

<script>
    const headline = document.getElementById('headline');
    const finalText = 'Misran is an <span class="text-[#C778DD]">AWS expert</span> and a <span class="text-[#C778DD]">back-end developer</span>';
    const plainText = 'Misran is an AWS expert and a back-end developer';
    const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()';

    let currentIndex = 0;
    const typingSpeed = 50; // milliseconds
    const scrambleIterations = 8; // how many random chars to show per position

    function getRandomChar() {
            return characters[Math.floor(Math.random() * characters.length)];
    }

    function typeWriter() {
        if (!headline) {
                console.error('Headline element not found');
                return;
        }

        if (currentIndex <= plainText.length) {
                let displayText = '';

                // Build the text up to current position
                for (let i = 0; i < currentIndex; i++) {
                        displayText += plainText[i];
                }

                // Add scrambled characters for upcoming positions
                for (let i = currentIndex; i < Math.min(currentIndex + 10, plainText.length); i++) {
                        if (plainText[i] === ' ') {
                                displayText += ' ';
                        } else {
                                displayText += getRandomChar();
                        }
                }

                // Apply HTML formatting
                let formattedText = displayText;
                formattedText = formattedText.replace('AWS expert', '<span class="text-[#C778DD]">AWS expert</span>');
                formattedText = formattedText.replace('back-end developer', '<span class="text-[#C778DD]">back-end developer</span>');

                headline.innerHTML = formattedText;
                currentIndex++;

                setTimeout(typeWriter, typingSpeed);
        } else {
                // Final text with proper formatting
                headline.innerHTML = finalText;
        }
    }

    // Start animation after a brief delay
    setTimeout(typeWriter, 500);
</script>